<UserControl x:Class="MAVPC.MVVM.Views.LoginView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignHeight="600" d:DesignWidth="900"
             TextElement.Foreground="{DynamicResource MaterialDesignBody}"
             TextElement.FontWeight="Regular"
             TextElement.FontSize="13"
             TextOptions.TextFormattingMode="Ideal"
             TextOptions.TextRenderingMode="Auto"
             FontFamily="{DynamicResource MaterialDesignFont}">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="1.5*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Border Grid.Column="0" Background="{StaticResource DarkBg}">
            <Grid>
                <Path Data="M0,100 L100,0 L100,100 Z" 
                      Fill="{StaticResource NeonCyan}" 
                      Stretch="Uniform" 
                      VerticalAlignment="Bottom" HorizontalAlignment="Right" 
                      Width="400" Opacity="0.05"/>

                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                        <TextBlock Text="MAVPC" 
                                   FontSize="60" 
                                   FontWeight="Bold" 
                                   Foreground="White" 
                                   VerticalAlignment="Center" 
                                   Margin="0,0,15,0">
                            <TextBlock.Effect>
                                <DropShadowEffect Color="Black" BlurRadius="10" ShadowDepth="2" Opacity="0.5"/>
                            </TextBlock.Effect>
                        </TextBlock>

                        <materialDesign:PackIcon Kind="TrafficLight" 
                                                 Width="80" Height="80" 
                                                 Foreground="{StaticResource NeonCyan}" 
                                                 VerticalAlignment="Center">
                            <materialDesign:PackIcon.Effect>
                                <DropShadowEffect Color="{Binding Source={StaticResource NeonCyan}, Path=Color}" BlurRadius="20" ShadowDepth="0"/>
                            </materialDesign:PackIcon.Effect>
                        </materialDesign:PackIcon>
                    </StackPanel>

                    <TextBlock Text="CENTRO DE CONTROL DE TRÁFICO" 
                               FontSize="18" 
                               Foreground="Gray" 
                               HorizontalAlignment="Center" 
                               Margin="0,10,0,0"/>
                </StackPanel>
            </Grid>
        </Border>

        <Border Grid.Column="1" Background="{StaticResource PanelBg}" Padding="60">
            <Border.Effect>
                <DropShadowEffect Color="Black" BlurRadius="40" ShadowDepth="0" Opacity="0.5"/>
            </Border.Effect>

            <StackPanel VerticalAlignment="Center">
                <TextBlock Text="INICIAR SESIÓN" Foreground="White" FontSize="32" FontWeight="Light" Margin="0,0,0,10"/>
                <TextBlock Text="Acceso autorizado únicamente" Foreground="Gray" FontSize="14" Margin="0,0,0,50"/>

                <TextBox Text="{Binding Username}" 
                         materialDesign:HintAssist.Hint="ID DE OPERADOR"
                         Style="{StaticResource MaterialDesignFloatingHintTextBox}" 
                         Foreground="White" 
                         Margin="0,0,0,30" 
                         FontSize="16" 
                         CaretBrush="{StaticResource NeonCyan}"/>

                <PasswordBox x:Name="UserPassword" 
                             materialDesign:HintAssist.Hint="CONTRASEÑA"
                             Style="{StaticResource MaterialDesignFloatingHintPasswordBox}" 
                             Foreground="White" 
                             Margin="0,0,0,40" 
                             FontSize="16" 
                             CaretBrush="{StaticResource NeonCyan}"/>

                <TextBlock Text="{Binding ErrorMessage}" 
                           Foreground="{StaticResource NeonPink}" 
                           Visibility="{Binding HasError, Converter={StaticResource BoolToVis}}" 
                           Margin="0,0,0,20"
                           TextWrapping="Wrap"
                           HorizontalAlignment="Center" FontWeight="Bold"/>

                <Button Command="{Binding LoginCommand}" 
                        CommandParameter="{Binding ElementName=UserPassword}"
                        Content="ENTRAR AL SISTEMA" 
                        Height="50" 
                        Background="{StaticResource NeonCyan}" 
                        BorderBrush="{StaticResource NeonCyan}"
                        Foreground="Black" 
                        FontWeight="Bold" 
                        FontSize="16">
                    <Button.Effect>
                        <DropShadowEffect Color="{Binding Source={StaticResource NeonCyan}, Path=Color}" BlurRadius="15" Opacity="0.4" ShadowDepth="0"/>
                    </Button.Effect>
                </Button>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>